<!DOCTYPE html>
<html>
<head>
    <title>Drag Drop Test</title>
    <style>
        .palette-item {
            width: 100px;
            height: 50px;
            background: #3b82f6;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 10px;
            cursor: grab;
            user-select: none;
        }
        .palette-item:active {
            cursor: grabbing;
        }
        .drop-zone {
            width: 400px;
            height: 300px;
            border: 2px dashed #ccc;
            margin: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9f9f9;
        }
        .drop-zone.drag-over {
            background: #e0f2fe;
            border-color: #3b82f6;
        }
    </style>
</head>
<body>
    <h1>Drag Drop Test</h1>
    
    <div>
        <h2>Palette Items</h2>
        <div class="palette-item" draggable="true" data-type="start">Start Block</div>
        <div class="palette-item" draggable="true" data-type="choice">Choice Block</div>
    </div>
    
    <div>
        <h2>Drop Zone</h2>
        <div class="drop-zone" id="dropZone">
            Drop blocks here
        </div>
    </div>
    
    <div id="log"></div>
    
    <script>
        const log = document.getElementById('log');
        
        function addLog(message) {
            const p = document.createElement('p');
            p.textContent = new Date().toLocaleTimeString() + ': ' + message;
            log.appendChild(p);
        }
        
        // Add drag start listeners
        document.querySelectorAll('.palette-item').forEach(item => {
            item.addEventListener('dragstart', (e) => {
                const type = e.target.dataset.type;
                e.dataTransfer.setData('application/reactflow', type);
                e.dataTransfer.effectAllowed = 'move';
                addLog('Drag start: ' + type);
            });
        });
        
        // Add drop zone listeners
        const dropZone = document.getElementById('dropZone');
        
        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
            dropZone.classList.add('drag-over');
            addLog('Drag over drop zone');
        });
        
        dropZone.addEventListener('dragleave', (e) => {
            dropZone.classList.remove('drag-over');
            addLog('Drag leave drop zone');
        });
        
        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('drag-over');
            
            const type = e.dataTransfer.getData('application/reactflow');
            addLog('Drop: ' + type);
            
            if (type) {
                const newBlock = document.createElement('div');
                newBlock.textContent = type + ' Block';
                newBlock.style.cssText = 'background: #10b981; color: white; padding: 10px; margin: 5px; border-radius: 5px;';
                dropZone.appendChild(newBlock);
            }
        });
    </script>
</body>
</html>
